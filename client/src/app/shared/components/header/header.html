<header class="main-header">
  <div class="header-container">
    <!-- Logo -->
    <div class="logo">
      <span class="logo-icon">🏥</span>
      <span class="logo-text">DocApp</span>
    </div>

    <!-- Navegación Principal -->
    <nav class="main-nav" *ngIf="currentUser">
      <!-- Navegación para Pacientes -->
      <ng-container *ngIf="currentUser.rol === 'paciente'">
        <a routerLink="/solicitar-cita" routerLinkActive="active" class="nav-link">
          <span class="nav-icon">📝</span>
          Solicitar Cita
        </a>
        <a routerLink="/mis-citas" routerLinkActive="active" class="nav-link">
          <span class="nav-icon">📋</span>
          Mis Citas
        </a>
        <a routerLink="/mi-historial" routerLinkActive="active" class="nav-link">
          <span class="nav-icon">📋</span>
          Mi Historial Medico
        </a>
        <a routerLink="/medicamentos" routerLinkActive="active" class="nav-link"> <!-- ← NUEVO -->
    <span class="nav-icon">💊</span>
    Consulta tus medicamentos
  </a>
        
      </ng-container>

      <!-- Navegación para Médicos -->
      <ng-container *ngIf="currentUser.rol === 'medico'">
        <a routerLink="/medico/citas" routerLinkActive="active" class="nav-link">
          <span class="nav-icon">👨‍⚕️</span>
          Panel Médico
        </a>
      </ng-container>

      <!-- Navegación para Admin -->
      <ng-container *ngIf="currentUser.rol === 'admin'">
        <a routerLink="/admin/dashboard" routerLinkActive="active" class="nav-link">
          <span class="nav-icon">📊</span>
          Dashboard
        </a>
        <a routerLink="/admin/usuarios" routerLinkActive="active" class="nav-link">
          <span class="nav-icon">👥</span>
          Usuarios
        </a>
      </ng-container>
    </nav>

    <!-- Usuario -->
    <div class="user-section" *ngIf="currentUser">
      <button class="user-button" (click)="toggleUserMenu()">
        <div class="user-avatar">
          {{ currentUser.nombre.charAt(0) }}{{ currentUser.apellido.charAt(0) }}
        </div>
        <div class="user-info">
          <span class="user-name">{{ currentUser.nombre }} {{ currentUser.apellido }}</span>
          <span class="user-role">{{ getRoleBadge() }}</span>
        </div>
        <span class="dropdown-icon">▼</span>
      </button>

      <!-- Menú desplegable -->
      <div class="user-menu" *ngIf="showUserMenu">
        <button (click)="logout()" class="menu-item logout">
          <span>🚪</span> Cerrar Sesión
        </button>
      </div>
    </div>
  </div>
</header>